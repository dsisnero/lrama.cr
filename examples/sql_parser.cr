

require "../src/lrama/runtime"



class SqlParser < Lrama::Runtime::Parser

  YYSYMBOL_YYEOF = 0

  YYSYMBOL_YYerror = 1

  YYSYMBOL_YYUNDEF = 2

  YYSYMBOL_SELECT = 3

  YYSYMBOL_DISTINCT = 4

  YYSYMBOL_FROM = 5

  YYSYMBOL_WHERE = 6

  YYSYMBOL_AND = 7

  YYSYMBOL_OR = 8

  YYSYMBOL_NOT = 9

  YYSYMBOL_AS = 10

  YYSYMBOL_JOIN = 11

  YYSYMBOL_LEFT = 12

  YYSYMBOL_RIGHT = 13

  YYSYMBOL_INNER = 14

  YYSYMBOL_OUTER = 15

  YYSYMBOL_ON = 16

  YYSYMBOL_GROUP = 17

  YYSYMBOL_BY = 18

  YYSYMBOL_ORDER = 19

  YYSYMBOL_LIMIT = 20

  YYSYMBOL_OFFSET = 21

  YYSYMBOL_ASC = 22

  YYSYMBOL_DESC = 23

  YYSYMBOL_COMMA = 24

  YYSYMBOL_STAR = 25

  YYSYMBOL_SEMICOLON = 26

  YYSYMBOL_LPAREN = 27

  YYSYMBOL_RPAREN = 28

  YYSYMBOL_EQ = 29

  YYSYMBOL_NE = 30

  YYSYMBOL_LT = 31

  YYSYMBOL_GT = 32

  YYSYMBOL_LE = 33

  YYSYMBOL_GE = 34

  YYSYMBOL_IDENT = 35

  YYSYMBOL_STRING = 36

  YYSYMBOL_NUMBER = 37

  YYSYMBOL_YYACCEPT = 38

  YYSYMBOL_input = 39

  YYSYMBOL_select_stmt = 40

  YYSYMBOL_distinct_opt = 41

  YYSYMBOL_select_list = 42

  YYSYMBOL_column_list = 43

  YYSYMBOL_column_ref = 44

  YYSYMBOL_table_ref = 45

  YYSYMBOL_join_list = 46

  YYSYMBOL_join_clause = 47

  YYSYMBOL_join_type = 48

  YYSYMBOL_where_clause = 49

  YYSYMBOL_group_clause = 50

  YYSYMBOL_group_list = 51

  YYSYMBOL_order_clause = 52

  YYSYMBOL_order_list = 53

  YYSYMBOL_order_item = 54

  YYSYMBOL_order_dir = 55

  YYSYMBOL_limit_clause = 56

  YYSYMBOL_offset_clause = 57

  YYSYMBOL_condition = 58

  YYSYMBOL_predicate = 59

  YYSYMBOL_comp_op = 60

  YYSYMBOL_expr = 61

  YYEMPTY = -2
  YYERROR = 1
  YYEOF = 0
  YYNTOKENS = 38

  YYPACT = [
    0, 22, 33, 16, -30, -23, -30, -30, -30, -4, 40, 23,
    -30, 11, -30, 13, 14, -30, -1, 24, -30, 26, -30, 36,
    37, -30, 4, -30, 49, -30, -30, -30, -8, -30, 45, 13,
    -8, -8, -30, -30, -30, 6, -30, 25, 46, 44, 50, -30,
    -3, -8, -8, -30, -30, -30, -30, -30, -30, -13, 14, 47,
    48, -8, -30, -30, 62, -30, -30, 51, 14, 34, -30, 6,
    14, 17, 52, -30, 53, -30, -30, -30, -30, 14, 35, -30,
    -30, -30
  ]
  YYPGOTO = [
    -30, -30, -30, -30, -30, -30, -5, 38, -30, 54, -30, -30,
    -30, -30, -30, -30, -11, -30, -30, -30, -29, -30, -30, 20
  ]
  YYDEFACT = [
    0, 4, 0, 0, 5, 0, 1, 2, 6, 10, 0, 7,
    8, 0, 12, 0, 0, 11, 13, 0, 9, 0, 15, 22,
    23, 21, 26, 17, 0, 14, 24, 25, 0, 18, 28, 0,
    0, 0, 56, 58, 57, 27, 48, 0, 0, 32, 0, 46,
    0, 0, 0, 50, 51, 52, 53, 54, 55, 0, 0, 0,
    40, 0, 47, 44, 45, 49, 30, 29, 0, 0, 3, 19,
    0, 37, 33, 34, 42, 31, 38, 39, 36, 0, 0, 41,
    35, 43
  ]
  YYDEFGOTO = [
    0, 2, 3, 5, 10, 11, 73, 19, 26, 27, 28, 34,
    45, 67, 60, 74, 75, 80, 70, 83, 41, 42, 57, 43
  ]
  YYTABLE = [
    12, 36, 8, 1, 49, 50, 13, 47, 48, 21, 32, 20,
    9, 49, 50, -20, 23, 24, 25, 37, 63, 64, 38, 39,
    40, 62, 4, 38, 39, 40, -16, 14, 71, 6, 22, -16,
    23, 24, 25, 78, 79, -16, 7, -16, -16, 15, 17, 16,
    18, 9, -16, 30, 31, 66, 51, 52, 53, 54, 55, 56,
    35, 29, 44, 59, 58, 68, 61, 77, 69, 49, 84, 76,
    85, 46, 82, 72, 81, 65, 0, 0, 33
  ]
  YYCHECK = [
    5, 9, 25, 3, 7, 8, 10, 36, 37, 10, 6, 16,
    35, 7, 8, 11, 12, 13, 14, 27, 49, 50, 35, 36,
    37, 28, 4, 35, 36, 37, 6, 35, 61, 0, 35, 11,
    12, 13, 14, 22, 23, 17, 26, 19, 20, 5, 35, 24,
    35, 35, 26, 15, 15, 58, 29, 30, 31, 32, 33, 34,
    11, 35, 17, 19, 18, 18, 16, 72, 20, 7, 81, 37,
    37, 35, 21, 24, 24, 57, -1, -1, 26
  ]
  YYR1 = [
    0, 38, 39, 40, 41, 41, 42, 42, 43, 43, 44, 44,
    44, 45, 45, 45, 46, 46, 46, 47, 48, 48, 48, 48,
    48, 48, 49, 49, 50, 50, 51, 51, 52, 52, 53, 53,
    54, 55, 55, 55, 56, 56, 57, 57, 58, 58, 58, 58,
    58, 59, 60, 60, 60, 60, 60, 60, 61, 61, 61
  ]
  YYR2 = [
    0, 2, 2, 10, 0, 1, 1, 1, 1, 3, 1, 3,
    2, 1, 3, 2, 0, 1, 2, 5, 0, 1, 1, 1,
    2, 2, 0, 2, 0, 3, 1, 3, 0, 3, 1, 3,
    2, 0, 1, 1, 0, 3, 0, 2, 3, 3, 2, 3,
    1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1
  ]
  YYLAST = 80
  YYPACT_NINF = -30
  YYTABLE_NINF = -21
  YYFINAL = 6
  ERROR_RECOVERY = false

  def yypact : Array(Int32)
    YYPACT
  end

  def yypgoto : Array(Int32)
    YYPGOTO
  end

  def yydefact : Array(Int32)
    YYDEFACT
  end

  def yydefgoto : Array(Int32)
    YYDEFGOTO
  end

  def yytable : Array(Int32)
    YYTABLE
  end

  def yycheck : Array(Int32)
    YYCHECK
  end

  def yyr1 : Array(Int32)
    YYR1
  end

  def yyr2 : Array(Int32)
    YYR2
  end

  def yylast : Int32
    YYLAST
  end

  def yyntokens : Int32
    YYNTOKENS
  end

  def yypact_ninf : Int32
    YYPACT_NINF
  end

  def yytable_ninf : Int32
    YYTABLE_NINF
  end

  def yyfinal : Int32
    YYFINAL
  end

  def error_symbol : Int32
    YYERROR
  end

  def eof_symbol : Int32
    YYEOF
  end

  def error_recovery? : Bool
    ERROR_RECOVERY
  end

  def reduce(rule : Int32, values : Array(Lrama::Runtime::Value), locations : Array(Lrama::Runtime::Location?)) : Lrama::Runtime::Value
    case rule
    when 0
      nil

    when 1
      # $accept -> input YYEOF
      values.last?


    when 2
      # input -> select_stmt SEMICOLON
      result = values.last?

                set_tree(s(values[0]))

      result


    when 3
      # select_stmt -> SELECT distinct_opt select_list FROM table_ref join_list where_clause group_clause order_clause limit_clause
      result = values.last?

                      result = node("SELECT", [
                        s(values[1]),
                        s(values[2]),
                        node("FROM", [s(values[4])]),
                        s(values[5]),
                        s(values[6]),
                        s(values[7]),
                        s(values[8]),
                        s(values[9]),
                      ])

      result


    when 4
      # distinct_opt -> %empty
      result = nil

                       result = ""

      result


    when 5
      # distinct_opt -> DISTINCT
      result = values.last?

                       result = "DISTINCT"

      result


    when 6
      # select_list -> STAR
      result = values.last?

                      result = node("STAR", [] of String)

      result


    when 7
      # select_list -> column_list
      result = values.last?

                      result = node("COLUMNS", [s(values[0])])

      result


    when 8
      # column_list -> column_ref
      result = values.last?

                      result = s(values[0])

      result


    when 9
      # column_list -> column_list COMMA column_ref
      result = values.last?

                      result = node("COLUMNS", [s(values[0]), s(values[2])])

      result


    when 10
      # column_ref -> IDENT
      result = values.last?

                     result = node("COLUMN #{s(values[0])}", [] of String)

      result


    when 11
      # column_ref -> IDENT AS IDENT
      result = values.last?

                     result = node("COLUMN #{s(values[0])}", [node("AS #{s(values[2])}", [] of String)])

      result


    when 12
      # column_ref -> IDENT IDENT
      result = values.last?

                     result = node("COLUMN #{s(values[0])}", [node("ALIAS #{s(values[1])}", [] of String)])

      result


    when 13
      # table_ref -> IDENT
      result = values.last?

                    result = node("TABLE #{s(values[0])}", [] of String)

      result


    when 14
      # table_ref -> IDENT AS IDENT
      result = values.last?

                    result = node("TABLE #{s(values[0])}", [node("AS #{s(values[2])}", [] of String)])

      result


    when 15
      # table_ref -> IDENT IDENT
      result = values.last?

                    result = node("TABLE #{s(values[0])}", [node("ALIAS #{s(values[1])}", [] of String)])

      result


    when 16
      # join_list -> %empty
      result = nil

                    result = ""

      result


    when 17
      # join_list -> join_clause
      result = values.last?

                    result = node("JOINS", [s(values[0])])

      result


    when 18
      # join_list -> join_list join_clause
      result = values.last?

                    result = node("JOINS", [s(values[0]), s(values[1])])

      result


    when 19
      # join_clause -> join_type JOIN table_ref ON condition
      result = values.last?

                      label = s(values[0])
                      label = label.empty? ? "JOIN" : "#{label} JOIN"
                      result = node(label, [s(values[2]), node("ON", [s(values[4])])])

      result


    when 20
      # join_type -> %empty
      result = nil

                    result = ""

      result


    when 21
      # join_type -> INNER
      result = values.last?

                    result = "INNER"

      result


    when 22
      # join_type -> LEFT
      result = values.last?

                    result = "LEFT"

      result


    when 23
      # join_type -> RIGHT
      result = values.last?

                    result = "RIGHT"

      result


    when 24
      # join_type -> LEFT OUTER
      result = values.last?

                    result = "LEFT OUTER"

      result


    when 25
      # join_type -> RIGHT OUTER
      result = values.last?

                    result = "RIGHT OUTER"

      result


    when 26
      # where_clause -> %empty
      result = nil

                       result = ""

      result


    when 27
      # where_clause -> WHERE condition
      result = values.last?

                       result = node("WHERE", [s(values[1])])

      result


    when 28
      # group_clause -> %empty
      result = nil

                       result = ""

      result


    when 29
      # group_clause -> GROUP BY group_list
      result = values.last?

                       result = node("GROUP BY", [s(values[2])])

      result


    when 30
      # group_list -> column_ref
      result = values.last?

                     result = s(values[0])

      result


    when 31
      # group_list -> group_list COMMA column_ref
      result = values.last?

                     result = node("GROUP BY", [s(values[0]), s(values[2])])

      result


    when 32
      # order_clause -> %empty
      result = nil

                       result = ""

      result


    when 33
      # order_clause -> ORDER BY order_list
      result = values.last?

                       result = node("ORDER BY", [s(values[2])])

      result


    when 34
      # order_list -> order_item
      result = values.last?

                     result = s(values[0])

      result


    when 35
      # order_list -> order_list COMMA order_item
      result = values.last?

                     result = node("ORDER BY", [s(values[0]), s(values[2])])

      result


    when 36
      # order_item -> column_ref order_dir
      result = values.last?

                     dir = s(values[1])
                     if dir.empty?
                       result = s(values[0])
                     else
                       result = node("ORDER #{dir.strip}", [s(values[0])])
                     end

      result


    when 37
      # order_dir -> %empty
      result = nil

                    result = ""

      result


    when 38
      # order_dir -> ASC
      result = values.last?

                    result = "ASC"

      result


    when 39
      # order_dir -> DESC
      result = values.last?

                    result = "DESC"

      result


    when 40
      # limit_clause -> %empty
      result = nil

                      result = ""

      result


    when 41
      # limit_clause -> LIMIT NUMBER offset_clause
      result = values.last?

                      result = node("LIMIT #{s(values[1])}", [s(values[2])])

      result


    when 42
      # offset_clause -> %empty
      result = nil

                       result = ""

      result


    when 43
      # offset_clause -> OFFSET NUMBER
      result = values.last?

                       result = node("OFFSET #{s(values[1])}", [] of String)

      result


    when 44
      # condition -> condition AND condition
      result = values.last?

                    result = node("AND", [s(values[0]), s(values[2])])

      result


    when 45
      # condition -> condition OR condition
      result = values.last?

                    result = node("OR", [s(values[0]), s(values[2])])

      result


    when 46
      # condition -> NOT condition
      result = values.last?

                    result = node("NOT", [s(values[1])])

      result


    when 47
      # condition -> LPAREN condition RPAREN
      result = values.last?

                    result = s(values[1])

      result


    when 48
      # condition -> predicate
      result = values.last?

                    result = s(values[0])

      result


    when 49
      # predicate -> expr comp_op expr
      result = values.last?

                   result = node("COMPARE #{s(values[1])}", [s(values[0]), s(values[2])])

      result


    when 50
      # comp_op -> EQ
      result = values.last?
       result = "="
      result


    when 51
      # comp_op -> NE
      result = values.last?
       result = "!="
      result


    when 52
      # comp_op -> LT
      result = values.last?
       result = "<"
      result


    when 53
      # comp_op -> GT
      result = values.last?
       result = ">"
      result


    when 54
      # comp_op -> LE
      result = values.last?
       result = "<="
      result


    when 55
      # comp_op -> GE
      result = values.last?
       result = ">="
      result


    when 56
      # expr -> IDENT
      result = values.last?

               result = node("IDENT #{s(values[0])}", [] of String)

      result


    when 57
      # expr -> NUMBER
      result = values.last?

               result = node("NUMBER #{s(values[0])}", [] of String)

      result


    when 58
      # expr -> STRING
      result = values.last?

               result = node("STRING #{s(values[0])}", [] of String)

      result


    else
      nil
    end
  end
end


class SqlParserLexer
  include Lrama::Runtime::Lexer

  YYLEX_TABLES = [
    [
    -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 1, -1,
    -1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, 1, 2, -1, -1,
    -1, -1, -1, 3, 4, 5, 6, -1, 7, -1, -1, -1,
    8, 8, 8, 8, 8, 8, 8, 8, 8, 8, -1, 9,
    10, 11, 12, -1, -1, 13, 13, 13, 13, 13, 13, 13,
    13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
    13, 13, 13, 13, 13, 13, 13, -1, -1, -1, -1, 13,
    -1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
    13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
    13, 13, 13, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, 1, 1, -1, -1, 1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, 14, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 16, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, 8, 8, 8, 8,
    8, 8, 8, 8, 8, 8, -1, -1, -1, -1, -1, 17,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, 18, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, 19, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, 20, 20, 20, 20, 20, 20, 20, 20,
    20, 20, -1, -1, -1, -1, -1, -1, -1, 20, 20, 20,
    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, -1,
    -1, -1, -1, 20, -1, 20, 20, 20, 20, 20, 20, 20,
    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
    20, 20, 20, 20, 20, 20, 20, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 16, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, 21, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, 20, 20, 20, 20,
    20, 20, 20, 20, 20, 20, -1, -1, -1, -1, -1, -1,
    -1, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
    20, 20, 20, -1, -1, -1, -1, 20, -1, 20, 20, 20,
    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 22, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, 23, 23, 23, 23, 23, 23, 23, 23,
    23, 23, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, 23, 23, 23, 23,
    23, 23, 23, 23, 23, 23, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
  ]
  ]
  YYLEX_ROW_WIDTH = 256
  YYLEX_ACCEPTS = [
    [
    -1, 0, -1, -1, 7, 8, 5, 4, 2, 6, 13, 12,
    14, 3, 11, -1, 1, -1, 9, 10, 3, -1, -1, 2
  ]
  ]
  YYLEX_STATE_COUNT = 1
  YYLEX_KIND = [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  YYLEX_TOKEN = [-1, SqlParser::YYSYMBOL_STRING, SqlParser::YYSYMBOL_NUMBER, SqlParser::YYSYMBOL_IDENT, SqlParser::YYSYMBOL_COMMA, SqlParser::YYSYMBOL_STAR, SqlParser::YYSYMBOL_SEMICOLON, SqlParser::YYSYMBOL_LPAREN, SqlParser::YYSYMBOL_RPAREN, SqlParser::YYSYMBOL_LE, SqlParser::YYSYMBOL_GE, SqlParser::YYSYMBOL_NE, SqlParser::YYSYMBOL_EQ, SqlParser::YYSYMBOL_LT, SqlParser::YYSYMBOL_GT]
  YYLEX_VALUE_KIND = [0, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  YYLEX_KEYWORD = [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

  YYLEX_KEYWORD_MAP = {"SELECT" => SqlParser::YYSYMBOL_SELECT, "DISTINCT" => SqlParser::YYSYMBOL_DISTINCT, "FROM" => SqlParser::YYSYMBOL_FROM, "WHERE" => SqlParser::YYSYMBOL_WHERE, "AND" => SqlParser::YYSYMBOL_AND, "OR" => SqlParser::YYSYMBOL_OR, "NOT" => SqlParser::YYSYMBOL_NOT, "AS" => SqlParser::YYSYMBOL_AS, "JOIN" => SqlParser::YYSYMBOL_JOIN, "LEFT" => SqlParser::YYSYMBOL_LEFT, "RIGHT" => SqlParser::YYSYMBOL_RIGHT, "INNER" => SqlParser::YYSYMBOL_INNER, "OUTER" => SqlParser::YYSYMBOL_OUTER, "ON" => SqlParser::YYSYMBOL_ON, "GROUP" => SqlParser::YYSYMBOL_GROUP, "BY" => SqlParser::YYSYMBOL_BY, "ORDER" => SqlParser::YYSYMBOL_ORDER, "LIMIT" => SqlParser::YYSYMBOL_LIMIT, "OFFSET" => SqlParser::YYSYMBOL_OFFSET, "ASC" => SqlParser::YYSYMBOL_ASC, "DESC" => SqlParser::YYSYMBOL_DESC}


  STATE_INITIAL = 0


  def initialize(@input : String)
    @index = 0
    @bytes = @input.to_slice
    @length = @bytes.size
    @state = STATE_INITIAL
  end

  def begin(state : Int32)
    if state < 0 || state >= YYLEX_STATE_COUNT
      raise "Unknown lexer state: #{state}"
    end
    @state = state
  end

  def next_token : Lrama::Runtime::Token
    while @index < @length
      start = @index
      dfa_state = 0
      last_accept = -1
      last_index = start
      table = YYLEX_TABLES[@state]
      accept = YYLEX_ACCEPTS[@state]

      while @index < @length
        byte = @bytes[@index]
        next_state = table[dfa_state * YYLEX_ROW_WIDTH + byte]
        break if next_state < 0
        dfa_state = next_state
        @index += 1
        rule = accept[dfa_state]
        if rule >= 0
          last_accept = rule
          last_index = @index
        end
      end

      if last_accept < 0
        byte = @bytes[start]
        raise "Unexpected character: #{byte}"
      end

      @index = last_index
      if YYLEX_KIND[last_accept] == 0
        next
      end
      return build_token(last_accept, start, last_index - start)
    end

    Lrama::Runtime::Token.new(SqlParser::YYEOF)
  end

  private def build_token(rule_index : Int32, start : Int32, length : Int32)
    token_id = YYLEX_TOKEN[rule_index]

    if YYLEX_KEYWORD[rule_index] == 1
      if keyword_id = keyword_token(start, length)
        token_id = keyword_id
        return Lrama::Runtime::Token.new(token_id)
      end
    end

    value_kind = YYLEX_VALUE_KIND[rule_index]
    if value_kind == 0
      return Lrama::Runtime::Token.new(token_id)
    end
    value =
      case value_kind
      when 1
        parse_int(start, length)
      when 2
        parse_float(start, length)
      when 3
        String.new(@bytes[start, length])
      when 4
        String.new(@bytes[start, length])
      else
        nil
      end
    Lrama::Runtime::Token.new(token_id, value)
  end


  private def keyword_token(start : Int32, length : Int32)
    keyword = String.new(@bytes[start, length])

    keyword = keyword.upcase

    YYLEX_KEYWORD_MAP[keyword]?
  end


  private def parse_int(start : Int32, length : Int32)
    value = 0
    i = 0
    while i < length
      byte = @bytes[start + i]
      value = value * 10 + (byte - 48)
      i += 1
    end
    value
  end

  private def parse_float(start : Int32, length : Int32)
    value = 0.0
    i = 0
    while i < length
      byte = @bytes[start + i]
      break if byte == 46
      value = value * 10.0 + (byte - 48)
      i += 1
    end
    return value if i >= length
    i += 1
    scale = 0.1
    while i < length
      byte = @bytes[start + i]
      value += (byte - 48) * scale
      scale *= 0.1
      i += 1
    end
    value
  end
end

class SqlParser
  def self.run(io : IO = STDIN)
    input = io.gets_to_end
    parser = new
    parser.parse(SqlParserLexer.new(input))
    parser
  end
end





class SqlParser
  def self.token_name(symbol : Int32) : String
    case symbol
    when YYEOF
      "YYEOF"
    when YYSYMBOL_SELECT
      "SELECT"
    when YYSYMBOL_DISTINCT
      "DISTINCT"
    when YYSYMBOL_FROM
      "FROM"
    when YYSYMBOL_WHERE
      "WHERE"
    when YYSYMBOL_AND
      "AND"
    when YYSYMBOL_OR
      "OR"
    when YYSYMBOL_NOT
      "NOT"
    when YYSYMBOL_AS
      "AS"
    when YYSYMBOL_JOIN
      "JOIN"
    when YYSYMBOL_LEFT
      "LEFT"
    when YYSYMBOL_RIGHT
      "RIGHT"
    when YYSYMBOL_INNER
      "INNER"
    when YYSYMBOL_OUTER
      "OUTER"
    when YYSYMBOL_ON
      "ON"
    when YYSYMBOL_GROUP
      "GROUP"
    when YYSYMBOL_BY
      "BY"
    when YYSYMBOL_ORDER
      "ORDER"
    when YYSYMBOL_LIMIT
      "LIMIT"
    when YYSYMBOL_OFFSET
      "OFFSET"
    when YYSYMBOL_ASC
      "ASC"
    when YYSYMBOL_DESC
      "DESC"
    when YYSYMBOL_COMMA
      "COMMA"
    when YYSYMBOL_STAR
      "STAR"
    when YYSYMBOL_SEMICOLON
      "SEMICOLON"
    when YYSYMBOL_LPAREN
      "LPAREN"
    when YYSYMBOL_RPAREN
      "RPAREN"
    when YYSYMBOL_EQ
      "EQ"
    when YYSYMBOL_NE
      "NE"
    when YYSYMBOL_LT
      "LT"
    when YYSYMBOL_GT
      "GT"
    when YYSYMBOL_LE
      "LE"
    when YYSYMBOL_GE
      "GE"
    when YYSYMBOL_IDENT
      "IDENT"
    when YYSYMBOL_STRING
      "STRING"
    when YYSYMBOL_NUMBER
      "NUMBER"
    else
      "TOKEN_#{symbol}"
    end
  end

  def s(value : Lrama::Runtime::Value) : String
    value.as(String)
  end

  def node(label : String, children : Array(String)) : String
    cleaned = children.compact.select { |child| !child.empty? }
    return label if cleaned.empty?
    "#{label}\n#{cleaned.map { |child| indent(child) }.join("\n")}"
  end

  def indent(tree : String) : String
    tree.lines.map { |line| "  #{line}" }.join("\n")
  end

  def set_tree(value : String)
    @tree = value
  end

  def tree : String?
    @tree
  end
end

if PROGRAM_NAME.ends_with?("sql_parser")
  input = STDIN.gets_to_end
  if ENV["SQL_TOKENS"]?
    lexer = SqlParserLexer.new(input)
    loop do
      token = lexer.next_token
      token_name = SqlParser.token_name(token.sym)
      break if token_name == "YYEOF"
      value = token.value
      if value
        puts "#{token_name} #{value}"
      else
        puts token_name
      end
    end
  else
    parser = SqlParser.new
    parser.parse(SqlParserLexer.new(input))
    if (tree = parser.tree)
      puts tree
    end
  end
end


